<div id="contacto">
  <div class="hidden md:grid w-full h-full">
    <div class="hero min-h-full h-full bg-gray-900">
      <div class="container mx-auto">
        <div class="pb-20 p-2 text-4xl text-left font-bold text-white">
          <h1>Contáctanos</h1>
        </div>
        <div class="container mx-auto">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="padding_right0 p-4">
              <!-- Contenedor con fondo para el formulario -->
              <div class="max-w-md mx-auto bg-white p-5 rounded-md shadow-sm">
                <form action="https://api.web3forms.com/submit" method="POST" id="form">
                  <input type="hidden" name="access_key" value="d283b97e-b549-4a0c-a0b3-7168f19245a0" />
                  <input type="hidden" name="subject" value="New Submission from Web3Forms" />
                  <input type="checkbox" name="botcheck" id="" style="display: none;" />

                  <div class="mb-6">
                    <label for="name" class="block mb-2 text-sm text-gray-600 dark:text-gray-400">Nombre</label>
                    <input type="text" name="name" id="name" placeholder="Nicolas Spada" required class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500" />
                  </div>
                  <div class="mb-6">
                    <label for="email" class="block mb-2 text-sm text-gray-600 dark:text-gray-400">Email</label>
                    <input type="email" name="email" id="email" placeholder="example@gmail.com" required class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500" />
                  </div>
                  <div class="mb-6">
                    <label for="phone" class="text-sm text-gray-600 dark:text-gray-400">Teléfono</label>
                    <input type="text" name="phone" id="phone" placeholder="+54 11 1234-5674" required class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500" />
                  </div>
                  <div class="mb-6">
                    <label for="message" class="block mb-2 text-sm text-gray-600 dark:text-gray-400">Mensaje</label>
                    <textarea rows="5" name="message" id="message" placeholder="Tu mensaje" class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500" required></textarea>
                  </div>
                  <div class="mb-6">
                    <button type="submit" class="w-full px-3 py-4 text-white bg-indigo-500 rounded-md focus:bg-indigo-600 focus:outline-none">
                      Enviar Mensaje
                    </button>
                  </div>
                  <p class="text-base text-center text-gray-400" id="result"></p>
                </form>
              </div>
            </div>
            <div class="p-2 pr-7">
              <div class="map_main">
                <div class="map-responsive">
                  <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d6543.94234013059!2d-58.37306600000001!3d-34.907173!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bd2b0063cad025%3A0x2eaffecaaeb577aa!2sEstudio%20integral%20gene!5e0!3m2!1ses-419!2sar!4v1724270130623!5m2!1ses-419!2sar"
                          width="600" height="463" frameborder="0" style="border:0; width: 100%;" allowfullscreen=""></iframe>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<!-- computadora -->
  <div class="md:hidden h-auto">
    <div class="hero min-h-full h-full bg-gray-900">
      <div class="container mx-auto">
        <div class="pb-20 p-4 text-4xl text-left font-bold text-white">
          <h1>Contáctanos</h1>
        </div>
        <div class="container mx-auto">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="padding_right0 p-4">
              <div class="max-w-md mx-auto bg-white p-5 rounded-md shadow-sm">
                <form action="https://api.web3forms.com/submit" method="POST" id="form">
                  <input type="hidden" name="access_key" value="d283b97e-b549-4a0c-a0b3-7168f19245a0" />
                  <input type="hidden" name="subject" value="New Submission from Web3Forms" />
                  <input type="checkbox" name="botcheck" id="" style="display: none;" />

                  <div class="mb-6">
                    <label for="name" class="block mb-2 text-sm text-gray-600 dark:text-gray-400">Nombre</label>
                    <input type="text" name="name" id="name" placeholder="Nicolas Spada" required class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500" />
                  </div>
                  <div class="mb-6">
                    <label for="email" class="block mb-2 text-sm text-gray-600 dark:text-gray-400">Email</label>
                    <input type="email" name="email" id="email" placeholder="example@gmail.com" required class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500" />
                  </div>
                  <div class="mb-6">
                    <label for="phone" class="text-sm text-gray-600 dark:text-gray-400">Teléfono</label>
                    <input type="text" name="phone" id="phone" placeholder="+54 11 1234-5674" required class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500" />
                  </div>
                  <div class="mb-6">
                    <label for="message" class="block mb-2 text-sm text-gray-600 dark:text-gray-400">Mensaje</label>
                    <textarea rows="5" name="message" id="message" placeholder="Tu mensaje" class="w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300 dark:bg-gray-700 dark:text-white dark:placeholder-gray-500 dark:border-gray-600 dark:focus:ring-gray-900 dark:focus:border-gray-500" required></textarea>
                  </div>
                  <div class="mb-6">
                    <button type="submit" class="w-full px-3 py-4 text-white bg-indigo-500 rounded-md focus:bg-indigo-600 focus:outline-none">
                      Enviar Mensaje
                    </button>
                  </div>
                  <p class="text-base text-center text-gray-400" id="result"></p>
                </form>
              </div>
            </div>
            <div class="p-1">
              <div class="map_main">
                <div class="map-responsive">
                  <iframe src=""
                        width="600" height="463" frameborder="0" style="border:0; width: 100%;" allowfullscreen=""></iframe>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://web3forms.com/client/script.js" async defer></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      console.log('DOMContentLoaded event fired');
      
      const form = document.getElementById('form');
      const result = document.getElementById('result');
      
      if (!form) {
          console.error('Form element not found');
          return;
      }
      
      if (!result) {
          console.error('Result element not found');
          return;
      }

      form.addEventListener('submit', function(e) {
          e.preventDefault();
          const formData = new FormData(form);
          const object = Object.fromEntries(formData);
          const json = JSON.stringify(object);
          result.innerHTML = "Por favor, espera...";
          
          fetch('https://api.web3forms.com/submit', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json',
                  'Accept': 'application/json'
              },
              body: json
          })
          .then(async (response) => {
              let json = await response.json();
              console.log(json); // Ver la respuesta completa en la consola
              if (response.status === 200) {
                  result.innerHTML = "Formulario enviado exitosamente";
                  result.classList.remove("text-red-500");
                  result.classList.add("text-green-500");
                  // Redirige después de un breve retraso para mostrar el mensaje
                  setTimeout(() => {
                      window.location.href = 'https://estudiointegralgene.com.ar'; // Cambia la URL aquí
                  }, 3000);
              } else {
                  result.innerHTML = json.message || "Hubo un problema con el envío";
                  result.classList.remove("text-green-500");
                  result.classList.add("text-red-500");
              }
          })
          .catch(error => {
              console.log(error);
              result.innerHTML = "¡Algo salió mal!";
              result.classList.remove("text-green-500");
              result.classList.add("text-red-500");
          })
          .then(function() {
              form.reset();
              setTimeout(() => {
                  result.style.display = "none";
              }, 3000);
          });
      });
    });
  </script>
</div>
